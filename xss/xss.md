# XSS #

## 介绍 ##
跨网站脚本（Cross-site scripting，通常简称为XSS或跨站脚本或跨站脚本攻击），是一种网站应用程序的安全漏洞攻击，是代码注入的一种。

它允许恶意用户将代码注入到网页上，其他用户在观看网页时就会受到影响。这类攻击通常包含了HTML以及用户端脚本语言。

XSS攻击，通常指的是通过利用网页开发时留下的漏洞，通过巧妙的方法注入恶意指令代码到网页，使用户加载并执行攻击者恶意制造的网页程序。这些恶意网页程序通常是JavaScript，但实际上也可以包括Java， VBScript， ActiveX， Flash 或者甚至是普通的HTML。攻击成功后，攻击者可能得到更高的权限（如执行一些操作）、私密网页内容、会话和cookie等各种内容。 

## 注入方式 ##

1. 通过编码绕过并注入。比如UTF-8编码字符的`\u003c\u0073\u0063\u0052\u0069\u0050\u0054\u003e\u003c\u002f\u0073\u0063\u0052\u0069\u0050\u0054\u003e`,这串字符实际是：`<scRiPT></scRiPT>`。

2. 直接注入JS。	`<script>alert(‘ok’)</script>`。

3. html注入。 ` %3Cimg%20src=%22地址%22%3E`。

## 如何避免 ##
避免xss的主要方式是，对输出内容进行过滤。

 - 对特殊字符进行转换：& 转成 &amp;“ 转成 &quot;< 转成 &lt;> 转成 &gt;‘ 转成 &#39;
 - 后端对数据进行过滤处理：比如php的htmlentities()或是htmlspecialchars()
 - 返回是json数据的的话先进行一次JSON.parse(data)校验
