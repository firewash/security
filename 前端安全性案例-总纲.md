# 总纲 #

前端常见的漏洞就是XSS、CSRF、CORS等。
 - XSS:
 - CSRF:
 - CORS:Cross-origin resource sharing，严格来说这是一种使用场景，不是漏洞

还有各种客户端（浏览器）上的安全漏洞也会危及到网站的安全。

公司的安全中心：[http://stc.alibaba-inc.com/bug/bug_list.htm?id=&type=&subject=&authorIdList%5Bint%5D-name=&assignedToIdList%5Bint%5D-name=&testerIdList%5Bint%5D-name=&createdAtFrom=&createdAtTo=&updatedAtFrom=&updatedAtTo=&toPage=1&spm=0.0.0.0.3lvyKS&order=created_at&orderType=desc](http://stc.alibaba-inc.com/bug/bug_list.htm?id=&type=&subject=&authorIdList%5Bint%5D-name=&assignedToIdList%5Bint%5D-name=&testerIdList%5Bint%5D-name=&createdAtFrom=&createdAtTo=&updatedAtFrom=&updatedAtTo=&toPage=1&spm=0.0.0.0.3lvyKS&order=created_at&orderType=desc "http://stc.alibaba-inc.com/bug/bug_list.htm?id=&type=&subject=&authorIdList%5Bint%5D-name=&assignedToIdList%5Bint%5D-name=&testerIdList%5Bint%5D-name=&createdAtFrom=&createdAtTo=&updatedAtFrom=&updatedAtTo=&toPage=1&spm=0.0.0.0.3lvyKS&order=created_at&orderType=desc")

## 案例列举 ##

### XSS漏洞通用信条 ###
永远不要信任用户的输入，以及URL上的内容。

需要经过escape或encodeURI。

### 表单提交时的CSRF ###
如果一个表单，有可能用来数据增删改，则需要防范CSRF。实际涉及增删改的场景都要防CSRF，如果不涉及数据增删改，可以忽略CSRF风险。

怎么防范呢：
1. 请确认使用POST请求，而非GET请求。
2. 增加token参数，并在服务端校验token。

### 链接中的CSRF ###
如果一个<a>或一个location.href跳转，如果用来数据增删改，要方式CSRF。

### Ajax中的CSRF ###
Ajax发出的post请求，如果涉及到增删改，也要防止CSRF。
防止方法同样是增加token。

### Access-Control-Allow-Origin 设置为*时的安全风险 ###

需要设置具体的域名，而不是*，否则存在一定的风险，即其他的域可以使用该资源。当然，如果是纯静态的资源（CSS，JS，Image等）关系不是很大。

### 不要信任referre ###
不要信任https头的信息，因为这些信息是可以伪造的。


### URL名单鉴权 ###
比如Java后台不要这样：srcUrl.contains(excludePath)，建议这样：建议使用.endsWith。

如果JS对host进行鉴别，使用 location.host.includes()，而不要使用location.href.includes()，否则很可能被绕过。

### 敏感信息泄露 ###
重要的信息（比如密码）不要直接写入到JS、Flash等代码里，也不要写到cookie或localstorage等缓存里。




